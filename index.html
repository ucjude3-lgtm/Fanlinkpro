<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FanlinkPro</title>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#0b0b0b;
  color:white;
  text-align:center;
}

header{
  background:linear-gradient(90deg,#d4af37,#000);
  padding:20px;
  font-size:24px;
  font-weight:bold;
}

.container{
  padding:20px;
}

input,button{
  padding:12px;
  margin:8px;
  border:none;
  border-radius:6px;
  font-size:16px;
}

button{
  background:#d4af37;
  color:black;
  font-weight:bold;
  cursor:pointer;
}

button:hover{
  opacity:0.85;
}

#dashboard{
  display:none;
}
</style>
</head>

<body>

<header>FanlinkPro</header>

<div class="container" id="loginBox">
  <h2>Fan Login</h2>

  <input type="email" id="email" placeholder="Enter your email"><br>
  <button onclick="sendOTP()">Send OTP</button><br>

  <input type="text" id="otpInput" placeholder="Enter OTP"><br>
  <button onclick="verifyOTP()">Verify & Login</button>
</div>

<div class="container" id="dashboard">
  <h2>âœ… Dashboard</h2>
  <p>You are logged in.</p>
  <button onclick="logout()">Logout</button>
</div>

<script>
emailjs.init("i4JH-E57aOzenCmXg");

const ADMIN_EMAIL = "joescott0132@gmail.com";
let generatedOTP = "";

function sendOTP(){
  const email = document.getElementById("email").value.trim();

  if(!email){
    alert("Enter email first");
    return;
  }

  generatedOTP = Math.floor(100000 + Math.random() * 900000).toString();

  emailjs.send("service_1h6cpga","template_qghxq0q",{
    email: email,
    otp: generatedOTP
  })
  .then(function(){
    alert("OTP sent to your email");
  })
  .catch(function(error){
    alert("Failed to send OTP");
    console.log(error);
  });
}

function verifyOTP(){
  const entered = document.getElementById("otpInput").value.trim();

  if(entered === generatedOTP){
    document.getElementById("loginBox").style.display="none";
    document.getElementById("dashboard").style.display="block";
  }else{
    alert("Wrong OTP");
  }
}

function logout(){
  location.reload();
}
</script>

</body>
</html>
